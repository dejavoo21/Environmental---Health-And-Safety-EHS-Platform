Area,Subarea,Task,Details,Status
Backend,Actions / CAPA,Create DB schema for Actions,"Add tables for actions/CAPA linked to incidents and inspections, with fields for assignee, due dates, status, and evidence summary.",
Backend,Actions / CAPA,Implement Actions CRUD endpoints,"Add endpoints for creating, updating, listing, and closing actions; enforce RBAC so only allowed roles can assign/close actions.",
Backend,Actions / CAPA,Implement automatic action creation rules,"Where required, create actions automatically for failed inspection responses or high-severity incidents as per TEST_STRATEGY_PHASE2.",
Backend,Attachments,Create DB schema for attachments,"Add attachments table with file metadata and foreign keys to incidents, inspections, and actions.",
Backend,Attachments,Implement attachment upload/download endpoints,Add endpoints and storage handling for uploading and retrieving evidence files; apply size/type validation.,
Backend,RBAC Enforcement,Centralise RBAC checks,Introduce reusable helpers or middleware to enforce role-based access for admin/manager/worker on key endpoints.,
Backend,Audit Logging,Create audit log schema,"Add audit_log table capturing who did what, when, and on which entity for critical operations.",
Backend,Audit Logging,Implement audit logging hooks,"Write logic to record audit events for login, incident status changes, inspection creation, and action updates.",
Backend,Help / Docs,Serve help content metadata API,Provide simple endpoints to retrieve in-app help/article metadata for Phase 2 help panel.,
Backend,Tests,"Add backend tests for Actions, Attachments, RBAC, and Audit log","Write tests mapped to Phase 2 TC-IDs to verify actions lifecycle, attachment validation, RBAC rules, and audit records.",
Backend,Handover,Update HANDOVER_TO_CLAUDE.md for Phase 2 backend work,"Summarise implemented Phase 2 backend features, US-IDs, C-IDs, TC-IDs, files changed, and remaining work.",
Frontend,Actions / CAPA,Build Actions list and detail UI,"Create pages for listing and viewing actions with status, due date, and linked incident/inspection.",
Frontend,Actions / CAPA,Build action creation/editing UI,"Allow managers/admins to create and update actions from incidents/inspections, respecting UX design.",
Frontend,Actions / CAPA,Wire Actions UI to API,Connect Actions UI to actions CRUD endpoints and reflect status changes in the UI.,
Frontend,Attachments,Implement attachments UI components,"Add upload widgets and attachment lists to incidents, inspections, and actions detail views.",
Frontend,Attachments,Wire attachments UI to API,Hook attachment UI to upload/download endpoints with progress and error handling.,
Frontend,RBAC,Apply role-based UI visibility,Hide/disable admin-only and manager-only actions in the UI based on user role from /auth/me.,
Frontend,Audit Log,Add basic audit log view (if in scope),"Create a simple view for admins to see recent audit log entries, if Phase 2 UX requires it.",
Frontend,Help / Docs,Add in-app help panel or links,Implement contextual help triggers or side panel as defined in FRONTEND_UX_PHASE2.md.,
Frontend,Tests,Add UI tests/smoke checks for Phase 2 features,"Add tests for key Actions, Attachments, and RBAC flows linked to Phase 2 TC-IDs.",
Frontend,Handover,Update HANDOVER_TO_CLAUDE.md for Phase 2 frontend work,"Summarise implemented Phase 2 frontend features, US-IDs, C-IDs, TC-IDs, files changed, and remaining work.",
